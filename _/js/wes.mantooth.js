function detectIE(){var a=window.navigator.userAgent,b=a.indexOf("MSIE ");if(b>0)return parseInt(a.substring(b+5,a.indexOf(".",b)),10);var c=a.indexOf("Trident/");if(c>0){var d=a.indexOf("rv:");return parseInt(a.substring(d+3,a.indexOf(".",d)),10)}var e=a.indexOf("Edge/");return e>0?parseInt(a.substring(e+5,a.indexOf(".",e)),10):!1}var $w={boolLog:!1,objects:{},refs:[],assets:{img:[],audio:[],midi:[],scripts:[],link:[]},main:{width:0,height:0},log:function(a){this.boolLog&&void 0!==window.console&&console.log(a)},slocation:function(){for(var a=document.getElementsByTagName("script"),b=a.length,c="",d=0;b>d;d++)a[d].src.indexOf("wes.mantooth.js")>-1&&(c=a[d].src,c=c.replace(c.substr(c.indexOf("wes.mantooth.js"),c.length),""),c=c.replace("components/",""));return c},makeFPS:function(a){"undefined"==typeof a&&(a=!0),a=a?"show":"";var b=document.createElement("div");b.setAttribute("id","wm_show_fps"),b.setAttribute("class",a),document.getElementsByTagName("body")[0].appendChild(b)},upFPS:function(a){"undefined"==typeof a&&(a=document.getElementById("wm_show_fps")),a.innerHTML=countFPS()+" fps"},loop:function(a){for(prop in this.objects)if(this.objects.hasOwnProperty(prop))for(obj in this.objects[prop])this.objects[prop][obj].loop();a&&window.requestAnimationFrame(this.loop.bind(this))},add_object:function(a,b,c,d,e,f){return $w.game.add_object(a,b,c,d,e,f)},all:function(a,b,c,d){for(var e=a.length,f=0;e>f;f++)d.i=f,$w.objects[b][f][c](d)}};$w.buttons=function(){"use strict";function a(a,c,d,e,f,g,h,i,j){var k=c,l=d;"undefined"!=typeof h.text.padding&&(k+=h.text.padding,l+=h.text.padding),$w.canvas.roundRectangle(a,c,d,e,f,g,h.button.color,h.button.fill,h.button.acolor,h.button.opacity),$w.canvas.text(a,k,l,i,h.text.fill,h.text.font,h.text.color),"undefined"!=typeof j&&($w.mouse.trackMouse(document,function(m){if("function"==typeof j.hover)if(m.x>c&&m.x<c+e&&m.y>d&&m.y<d+f){$w.canvas.roundRectangle(a,c,d,e,f,g,h.button.hcolor,h.button.fill,h.button.acolor,h.button.opacity);var n=h.text.color;"undefined"!=typeof h.text.hcolor&&(n=h.text.hcolor),$w.canvas.text(a,k,l,i,h.text.fill,h.text.font,n),b||(b=!0,j.hover())}else $w.canvas.roundRectangle(a,c,d,e,f,g,h.button.color,h.button.fill,h.button.acolor,h.button.opacity),$w.canvas.text(a,k,l,i,h.text.fill,h.text.font,h.text.color),b=!1}),"function"==typeof j.click&&document.addEventListener("click",function(a){a.clientX>c&&a.clientX<c+e&&a.clientY>d&&a.clientY<d+f&&j.click()}))}var b=!1;return{pill:a}}(),$w.canvas2=function(){"use strict";this.isinit=!1,this.C,this.ctx=[],this._font="12px serif",this._color="#000000",this._linewidth=1,this.errors=[],this.RAF,this.init=function(a,b,c,d){"undefined"==typeof a&&(a=document.getElementsByTagName("body")[0]),"undefined"==typeof b&&(b=window.innerWidth),"undefined"==typeof c&&(c=window.innerHeight),C=document.createElement("canvas"),C.setAttribute("hidpi","no"),C.setAttribute("width",b),C.setAttribute("height",c),C.setAttribute("style","z-index:"+(this.ctx.length+1)),a.appendChild(C);var e=this.ctx.length;return this.ctx.push(C.getContext("2d")),this.isinit=!0,"function"==typeof d&&d(e),e}},$w.canvas2.prototype.circle=function(a,b,c,d,e,f,g){"undefined"==typeof g&&(b=~~b,c=~~c),"undefined"==typeof e&&(e=this._color),"undefined"!=typeof f&&(ctx[a].globalAlpha=f),ctx[a].fillStyle=e,ctx[a].beginPath(),ctx[a].arc(b,c,d,0,2*Math.PI,!0),ctx[a].closePath(),ctx[a].fill()},$w.canvas=function(){"use strict";var a,b=!1,c=[],d="12px serif",e="#000000",f=1,g=[],h=function(d,e,f,g){"undefined"==typeof d&&(d=document.getElementsByTagName("body")[0]),"undefined"==typeof e&&(e=window.innerWidth),"undefined"==typeof f&&(f=window.innerHeight),a=document.createElement("canvas"),a.setAttribute("hidpi","no"),a.setAttribute("width",e),a.setAttribute("height",f),a.setAttribute("style","z-index:"+(c.length+1)),d.appendChild(a),a.width=a.offsetWidth,a.height=a.offsetHeight,a.style.width=a.width+"px",a.style.height=a.height+"px";var h=c.length;return c.push(a.getContext("2d")),b=!0,"function"==typeof g&&g(h),h},i=function(a,b,d,f,g,h,i){"undefined"==typeof i&&(b=~~b,d=~~d),"undefined"==typeof g&&(g=e),"undefined"!=typeof h&&(c[a].globalAlpha=h),c[a].fillStyle=g,c[a].beginPath(),c[a].arc(b,d,f,0,2*Math.PI,!0),c[a].closePath(),c[a].fill()},j=function(a,b,d,f,g,h,i,j,k){"undefined"==typeof k&&(b=~~b,d=~~d),"undefined"==typeof j&&(j=e),c[a].beginPath(),c[a].strokeStyle=j,c[a].arc(b,d,f,g,h,i),c[a].stroke()},k=function(a,b,d,f,g,h,i,j,k){"undefined"==typeof k&&(b=~~b,d=~~d,f=~~f,g=~~g,h=~~h,i=~~i),"undefined"==typeof j&&(j=e),c[a].beginPath(),c[a].strokeStyle=j,c[a].moveTo(b,d),c[a].quadraticCurveTo(f,g,h,i),c[a].stroke()},l=function(a,b,d,f,g,h,i,j,k,l,m){"undefined"==typeof m&&(b=~~b,d=~~d,f=~~f,g=~~g,h=~~h,i=~~i,j=~~j,k=~~k),"undefined"==typeof l&&(l=e),c[a].beginPath(),c[a].strokeStyle=l,c[a].moveTo(b,d),c[a].bezierCurveTo(f,g,h,i,j,k),c[a].stroke()},m=function(a,b,e,f,g,h,i,j){$w.log("$w.text("+[a,b,e,f,g,h,i,j]+")"),"undefined"==typeof j&&(b=~~b,e=~~e),"undefined"==typeof h&&(h=d),"undefined"==typeof g&&(g="fill"),"undefined"!=typeof h&&(c[a].strokeStyle=i,c[a].fillStyle=i),c[a].font=h,"fill"==g?c[a].fillText(f,b,e):c[a].strokeText(f,b,e)},n=function(a,b,d,g,h,i,j,k){"undefined"==typeof k&&(b=~~b,d=~~d,g=~~g,h=~~h),"undefined"==typeof i&&(i=e),"undefined"==typeof j&&(j=f),c[a].beginPath(),c[a].moveTo(b,d),c[a].lineTo(g,h),c[a].lineWidth=j,c[a].strokeStyle=i,c[a].stroke(),c[a].closePath()},o=function(a,b,d,e,f,g,h,i,j,k){switch("undefined"==typeof k&&(b=~~b,d=~~d,e=~~e,f=~~f),"undefined"==typeof h&&(h="stroke"),h){case"fill":c[a].fillStyle=g,"undefined"!=typeof j&&(c[a].globalAlpha=j),c[a].fillRect(b,d,e,f);break;case"stroke":c[a].strokeStyle=g,c[a].strokeRect(b,d,e,f);break;default:c[a].fillStyle=i,"undefined"!=typeof j&&(c[a].globalAlpha=j),c[a].fillRect(b,d,e,f),c[a].strokeStyle=g,c[a].strokeRect(b,d,e,f)}},p=function(a,b,d,e,f,g,h,i,j,k){switch(c[a].beginPath(),c[a].moveTo(b,d+g),c[a].lineTo(b,d+f-g),c[a].arcTo(b,d+f,b+g,d+f,g),c[a].lineTo(b+e-g,d+f),c[a].arcTo(b+e,d+f,b+e,d+f-g,g),c[a].lineTo(b+e,d+g),c[a].arcTo(b+e,d,b+e-g,d,g),c[a].lineTo(b+g,d),c[a].arcTo(b,d,b,d+g,g),"undefined"==typeof i&&(i="stroke"),i){case"fill":c[a].fillStyle=h,"undefined"!=typeof k&&(c[a].globalAlpha=k),c[a].fill();break;case"stroke":c[a].strokeStyle=h,c[a].stroke();break;default:c[a].fillStyle=j,"undefined"!=typeof k&&(c[a].globalAlpha=k),c[a].fill(),c[a].strokeStyle=h,c[a].stroke()}c[a].stroke()},q=function(a,b,d,e,f,g,h){switch("undefined"==typeof h&&(h=!1),"undefined"==typeof e&&(e="stroke"),e){case"fill":c[a].fillStyle=d,"undefined"!=typeof g&&(c[a].globalAlpha=g);break;case"stroke":c[a].strokeStyle=d;break;default:c[a].fillStyle=f,"undefined"!=typeof g&&(c[a].globalAlpha=g),c[a].fillRect(x1,y1,x2,y2),c[a].strokeStyle=d}c[a].beginPath(),c[a].moveTo(b[0][0],b[0][1]);for(var i=b.length,j=1;i>j;j++)c[a].lineTo(b[j][0],b[j][1]);c[a].fill()},r=function(a,b,d,e){return("undefined"==typeof e||e)&&s(a),c[a].save(),"undefined"==typeof d&&(b.sx=Math.floor(b.sx),b.sy=Math.floor(b.sy),b.sWidth=Math.floor(b.sWidth),b.sHeight=Math.floor(b.sHeight),b.dx=Math.floor(b.dx),b.dy=Math.floor(b.dy),b.dWidth=Math.floor(b.dWidth),b.dHeight=Math.floor(b.dHeight)),"undefined"==typeof b.img?(v("image not set"),!1):("undefined"!=typeof b.sWidth&&0!=b.sWidth?c[a].drawImage(b.img,b.sx,b.sy,b.sWidth,b.sHeight,b.dx,b.dy,b.dWidth,b.dHeight):"undefined"!=typeof b.dWidth&&0!=b.dWidth?c[a].drawImage(b.img,b.dx,b.dy,b.dWidth,b.dHeight):c[a].drawImage(b.img,b.dx,b.dy),c[a].restore(),!0)},s=function(b,d){"undefined"==typeof d||d?c[b].clearRect(0,0,a.width,a.height):(c[b].save(),c[b].setTransform(1,0,0,1,0,0),c[b].clearRect(0,0,a.width,a.height),c[b].restore())},t=function(b,d){switch(d){case"canvas":d=a;break;case"ctx":d=c[b]}return d},u=function(){c.pop()},v=function(a){g.push("Error: "+a)},w=function(){if(g.length>0)for(var a=g.length,b=0;a>b;b++)$w.log(g[b])};return{init:h,circle:i,arc:j,qArc:k,bArc:l,text:m,line:n,image:r,rectangle:o,roundRectangle:p,polygon:q,clear:s,get:t,pop:u,has_error:w}}(),$w.collision={checkCollision:function(a,b){for(var c=new Array(a.x-a.negXcollisionBox,a.x+a.posXcollisionBox),d=new Array(a.y-a.negYcollisionBox,a.y+a.posYcollisionBox),e=0;2>e;e++)for(var f=0;2>f;f++)if(c[e]>b.x-b.negXcollisionBox&&c[e]<b.x+b.posXcollisionBox&&d[f]>b.y-b.negYcollisionBox&&d[f]<b.y+b.posYcollisionBox)return!0;return!1},checkCollisionCoords:function(a,b,c,d,e){new Array(a-e,a+e),new Array(d-e,d+e);return a>c-e&&c+e>a&&b>d-e&&d+e>b},square:function(a,b,c,d,e,f){},circle:function(a,b){for(var c=a.length,d=0;c>d;d++){var e=$w.motion.distance_to_point(a[d][0],a[d][1],b.x,b.y);if(e-b.radius<0)return!0}return!1},checkCircle:function(a,b,c,d,e,f){var g=$w.motion.distance_to_point(a,b,d,e),h=c+f;return g-h>0},insideCanvas:function(a,b,c){return"undefined"==typeof a&&(a=0),0>b?1:b>$w.canvas.get(a,"canvas").width?3:c>$w.canvas.get(a,"canvas").height?4:0>c?2:0},inside:function(a,b){for(var c=a[0],d=a[1],e=!1,f=0,g=b.length-1;f<b.length;g=f++){var h=b[f][0],i=b[f][1],j=b[g][0],k=b[g][1],l=i>d!=k>d&&(j-h)*(d-i)/(k-i)+h>c;l&&(e=!e)}return e}},$w.color={componentToHex:function(a){var b=a.toString(16);return 1==b.length?"0"+b:b},rgbToHex:function(a,b,c){return"#"+this.componentToHex(a)+this.componentToHex(b)+this.componentToHex(c)},random:function(){for(var a=[],b=0;3>b;b++)a.push(~~(255*Math.random()));return $w.color.rgbToHex(a[0],a[1],a[2])}},$w.draw=function(){"use strict";var a=function(a,b,c,d,e,f){$w.log("$w.grid("+[a,b,c,d]+")");for(var g=b/(10*d),h=1;b>h;h+=g)$w.canvas.line(a,h,0,h,c,"#dedede");for(var i=1;c>i;i+=g)$w.canvas.line(a,0,i,b,i,"#dedede");("undefined"==typeof e||e)&&($w.canvas.line(a,0,b/2,b,c/2,"#000000",2),$w.canvas.line(a,c/2,0,b/2,c,"#000000",2)),"function"==typeof f&&f()},b=function(a,b,c,d,e,f){$w.log("$w.grid("+[a,b,c,d,e]+")");for(var g=b/(10*d),h=1;b>h;h+=g)$w.canvas.line(a,h,0,h,c,"#dedede");for(var i=1;c>i;i+=g-e)$w.canvas.line(a,0,i,b,i,"#dedede");$w.canvas.line(a,0,b/2,b,c/2,"#000000",2),$w.canvas.line(a,c/2,0,b/2,c,"#000000",2),"function"==typeof f&&f()};return{grid:a,gridp:b}}(),$w.game={map:{},add_object:function(a,b,c,d,e,f){for(var g=[],h=0;a>h;h++){var i=$w.canvas.init(d,e,f);c.i=i,"object"==typeof $w.objects[b.name]?$w.objects[b.name][i]=new b(c):($w.objects[b.name]=[],$w.objects[b.name][i]=new b(c)),g.push(i)}return g},bindkeys:function(a,b,c,d){switch($w.log("Game.key."+b),"undefined"==typeof $w.game.map[b]&&($w.game.map[b]=[]),$w.game.map[b].push(a),"undefined"==typeof c&&(c=document),b){case"keydown":c.addEventListener("keydown",function(a){detectIE&&(a.code=$w.keycode[a.keyCode]),$w.game.key(a,b,d)});break;case"keypress":c.addEventListener("keypress",function(a){detectIE&&(a.code=$w.keycode[a.keyCode]),$w.game.key(a,b,d)});break;default:c.addEventListener("keyup",function(a){detectIE&&(a.code=$w.keycode[a.keyCode]),$w.game.key(a,b,d)})}},key:function(a,b,c){$w.log("Game.key."+b),$w.log(a);for(var d=$w.game.map[b].length,e=0;d>e;e++){var f=$w.game.map[b][e];for(var g in f)f.hasOwnProperty(g)&&a.code==g&&f[g](a,c)}}},$w.keycode=[],$w.keycode[0]="",$w.keycode[1]="",$w.keycode[2]="",$w.keycode[3]="",$w.keycode[4]="",$w.keycode[5]="",$w.keycode[6]="",$w.keycode[7]="",$w.keycode[8]="Backspace",$w.keycode[9]="Tab",$w.keycode[10]="",$w.keycode[11]="",$w.keycode[12]="",$w.keycode[13]="Enter",$w.keycode[14]="",$w.keycode[15]="",$w.keycode[16]="",$w.keycode[17]="",$w.keycode[18]="",$w.keycode[19]="",$w.keycode[20]="",$w.keycode[21]="",$w.keycode[22]="",$w.keycode[23]="",$w.keycode[24]="",$w.keycode[25]="",$w.keycode[26]="",$w.keycode[27]="Escape",$w.keycode[28]="",$w.keycode[29]="",$w.keycode[30]="",$w.keycode[31]="",$w.keycode[32]="",$w.keycode[33]="",$w.keycode[34]="",$w.keycode[35]="",$w.keycode[36]="",$w.keycode[37]="ArrowLeft",$w.keycode[38]="ArrowUp",$w.keycode[39]="ArrowRight",$w.keycode[40]="ArrowDown",$w.keycode[41]="",$w.keycode[42]="",$w.keycode[43]="",$w.keycode[44]="",$w.keycode[45]="",$w.keycode[46]="",$w.keycode[47]="",$w.keycode[48]="",$w.keycode[49]="",$w.keycode[50]="",$w.keycode[51]="",$w.keycode[52]="",$w.keycode[53]="",$w.keycode[54]="",$w.keycode[55]="",$w.keycode[56]="",$w.keycode[57]="",$w.keycode[58]="",$w.keycode[59]="",$w.keycode[60]="",$w.keycode[61]="",$w.keycode[62]="",$w.keycode[63]="",$w.keycode[64]="",$w.keycode[65]="KeyA",$w.keycode[66]="",$w.keycode[67]="",$w.keycode[68]="KeyD",$w.keycode[69]="",$w.keycode[70]="",$w.keycode[71]="",$w.keycode[72]="",$w.keycode[73]="",$w.keycode[74]="",$w.keycode[75]="",$w.keycode[76]="",$w.keycode[77]="",$w.keycode[78]="",$w.keycode[79]="",$w.keycode[80]="",$w.keycode[81]="",$w.keycode[82]="",$w.keycode[83]="KeyS",$w.keycode[84]="",$w.keycode[85]="",$w.keycode[86]="",$w.keycode[87]="KeyW",$w.keycode[88]="",$w.keycode[89]="",$w.keycode[90]="",$w.keycode[91]="",$w.keycode[92]="",$w.keycode[93]="",$w.keycode[94]="",$w.keycode[95]="",$w.keycode[96]="",$w.keycode[97]="",$w.keycode[98]="",$w.keycode[99]="",$w.keycode[100]="",$w.keycode[101]="",$w.keycode[102]="",$w.keycode[103]="",$w.keycode[104]="",$w.keycode[105]="",$w.keycode[106]="",$w.keycode[107]="",$w.keycode[108]="",$w.keycode[109]="",$w.keycode[110]="",$w.keycode[111]="",$w.keycode[112]="",$w.keycode[113]="",$w.keycode[114]="",$w.keycode[115]="",$w.keycode[116]="",$w.keycode[117]="",$w.keycode[118]="",$w.keycode[119]="",$w.keycode[120]="",$w.keycode[121]="",$w.keycode[122]="",$w.keycode[123]="",$w.keycode[124]="",$w.keycode[125]="",$w.keycode[126]="",$w.keycode[127]="",$w.keycode[128]="",$w.keycode[129]="",$w.keycode[130]="",$w.keycode[131]="",$w.keycode[132]="",$w.keycode[133]="",$w.keycode[134]="",$w.keycode[135]="",$w.keycode[136]="",$w.keycode[137]="",$w.keycode[138]="",$w.keycode[139]="",$w.keycode[140]="",$w.keycode[141]="",$w.keycode[142]="",$w.keycode[143]="",$w.keycode[144]="",$w.keycode[145]="",$w.keycode[146]="",$w.keycode[147]="",$w.keycode[148]="",$w.keycode[149]="",$w.keycode[150]="",$w.keycode[151]="",$w.keycode[152]="",$w.keycode[153]="",$w.keycode[154]="",$w.keycode[155]="",$w.keycode[156]="",$w.keycode[157]="",$w.keycode[158]="",$w.keycode[159]="",$w.keycode[160]="",$w.keycode[161]="",$w.keycode[162]="",$w.keycode[163]="",$w.keycode[164]="",$w.keycode[165]="",$w.keycode[166]="",$w.keycode[167]="",$w.keycode[168]="",$w.keycode[169]="",$w.keycode[170]="",$w.keycode[171]="",$w.keycode[172]="",$w.keycode[173]="",$w.keycode[174]="",$w.keycode[175]="",$w.keycode[176]="",$w.keycode[177]="",$w.keycode[178]="",$w.keycode[179]="",$w.keycode[180]="",$w.keycode[181]="",$w.keycode[182]="",$w.keycode[183]="",$w.keycode[184]="",$w.keycode[185]="",$w.keycode[186]="",$w.keycode[187]="",$w.keycode[188]="",$w.keycode[189]="",$w.keycode[190]="",$w.keycode[191]="",$w.keycode[192]="",$w.keycode[193]="",$w.keycode[194]="",$w.keycode[195]="",$w.keycode[196]="",$w.keycode[197]="",$w.keycode[198]="",$w.keycode[199]="",$w.keycode[200]="",$w.keycode[201]="",$w.keycode[202]="",$w.keycode[203]="",$w.keycode[204]="",$w.keycode[205]="",$w.keycode[206]="",$w.keycode[207]="",$w.keycode[208]="",$w.keycode[209]="",$w.keycode[210]="",$w.keycode[211]="",$w.keycode[212]="",$w.keycode[213]="",$w.keycode[214]="",$w.keycode[215]="",$w.keycode[216]="",$w.keycode[217]="",$w.keycode[218]="",$w.keycode[219]="",$w.keycode[220]="",$w.keycode[221]="",$w.loading=function(){"use strict";var a=[],b=[".jpg",".gif",".png",".svg"],c={loaders:["loading1.gif","loading2.gif"],loaded:0,loading:null,timeout:1e4},d=function(a,d,e,f){c.assets_path=$w.slocation()+"../assets/loaders/","undefined"==typeof e&&(e="");var g=document.createElement("div");if(g.setAttribute("class","loader_fader "+e),g.setAttribute("style","width:"+a.offsetWidth+"px;height:"+a.offsetHeight+"px"),"undefined"==typeof c.loaders[d]){if(k("selected loader reference does not exist"),"function"!=typeof f)return!1;f(!1)}var h=document.createElement("div");h.setAttribute("class","loader_container "+e),h.setAttribute("style","width:"+a.offsetWidth+"px;height:"+a.offsetHeight+"px");var i=/\.[0-9a-z]+$/i;if(b.indexOf(c.loaders[d].match(i)[0])>-1){var j=document.createElement("img");j.setAttribute("src",c.assets_path+c.loaders[d]),h.appendChild(j)}else h.innerHTML=c.loaders[d];return a.appendChild(g),a.appendChild(h),"function"==typeof f&&f(!0),!0},e=function(a,b){var d=Object.keys(a).length,e=0,m=/\.[0-9a-z]+$/i;for(var n in a)if(a.hasOwnProperty(n)){var o=a[n].match(m)[0];switch(o){case".jpg":case".gif":case".png":case".svg":case".bmp":g(a[n],n);break;case".js":case".json":j(a[n],n);break;case".txt":case".css":i(a[n],n);break;case".ogg":case".mp3":h(a[n],n);break;case".midi":break;case".mp4":break;default:k("requested MIME type not supported"),b(!1)}l()}c.loading=setInterval(function(){c.loaded==d&&f(function(){clearInterval(c.loading),b(!0)}),e++,e>=c.timeout&&(k("assets failed to load, process timed out"),b(!1))},100)},f=function(a){$w.log("Loading.complete");for(var b=["loader_fader","loader_container"],c=0;2>=c;c++)for(var d=document.getElementsByClassName(b[c]),e=d.length,f=0;e>f;f++)d[f].parentElement.removeChild(d[f]);a()},g=function(a,b){$w.log("Loading.load_images "+a);var d=new Image;d.src=a,d.onload=function(){$w.assets.img[b]=d,c.loaded++}},h=function(a,b){$w.log("Loading.load_audio "+a);var d=new Audio(a);d.oncanplaythrough=function(){$w.assets.audio[b]=d,c.loaded++}},i=function(a,b){if("undefined"==typeof a.rel)return k("Loading.load_link param l.rel is a required field"),!1;if("undefined"==typeof a.href)return k("Loading.load_link param l.href is a required field"),!1;var d=document.createElement("link");return d.setAttribute("rel",a.rel),d.setAttribute("href",a.href),document.getElementsByName("head").appendChild(d),$w.assets.link[b]=d,c.loaded++,!0},j=function(a,b){if("undefined"==typeof a.src)return k("Loading.load_script param l.src is a required field"),!1;var d=document.createElement("script");return"undefined"!=typeof a.type&&d.setAttribute("type",a.type),"undefined"!=typeof a.integrity&&d.setAttribute("integrity",a.integrity),"undefined"!=typeof a.crossorigin&&d.setAttribute("crossorigin",a.crossorigin),d.setAttribute("src",a.src),document.getElementsByName("head").appendChild(d),$w.assets.script[b]=link,c.loaded++,!0},k=function(b){a.push("Error: "+b)},l=function(){if(a.length>0){for(var b=a.length,c=0;b>c;c++)$w.log(a[c]);return!0}return!1},m=function(a,b){c[a]=b};return{init:d,load:e,setO_val:m,has_error:l}}(),$w.math={radians:function(a){return a*Math.PI/180},degrees:function(a){return 180*a/Math.PI},sqr:function(a){return a*a},dist:function(a,b,c,d){return Math.hypot(c-a,d-b)},frandom:function(a){return~~(Math.random()*a)}},window.countFPS=function(){var a=(new Date).getMilliseconds(),b=1,c=0;return function(){var d=(new Date).getMilliseconds();return a>d?(c=b,b=1):b+=1,a=d,c}}(),$w.motion={distance_to_point:function(a,b,c,d){return Math.hypot(c-a,d-b)},point_direction:function(a,b,c,d,e){var f=c-a,g=d-b,h=Math.atan2(g,f),i=h*(180/Math.PI);return 0>i&&(i+=360),e?h:i},motion_set:function(a,b,c,d){var e=c*(Math.PI/180);return a+=Math.cos(e)*Math.PI/180*d,b+=Math.sin(e)*Math.PI/180*d,[a,b]},motion_set_2:function(a,b){var c=a.position.x,d=a.position.y,e=a.rotation.z;return c+=Math.cos(e)*Math.PI/180*b,d+=Math.sin(e)*Math.PI/180*b,a.position.x=c,a.position.y=d,a},move_to_contact:function(a,b,c,d,e){var f=new Object,g=d*(Math.PI/180);return a+=Math.cos(g)*Math.PI/180*e,b+=Math.sin(g)*Math.PI/180*e,c+=Math.sin(g)*Math.PI/180*e,f.x=a,f.y=b,f.z=c,f},move_to_contact_2:function(a,b){var c=this.point_direction(a.x,a.y,b.x,b.y);c+=180;var d=15;for(a.speed>1?d=a.speed:b.speed>1&&(d=b.speed);1==this.checkCollision(a,b);){var e=c*(Math.PI/180);a.x+=Math.cos(e)*Math.PI/180*a.speed,a.y+=Math.sin(e)*Math.PI/180*a.speed}}},$w.mouse={mouseX:0,mouseY:0,trackMouse:function(a,b,c){a.addEventListener("mousemove",function(a){this.mouseX=a.clientX,this.mouseY=a.clientY,"function"==typeof b&&b({x:a.clientX,y:a.clientY},c)})},remove:function(a){a.removeEventListener("mouseup",this,!1)}},HTMLElement.prototype.hasClass=function(a){return this.classList?this.classList.contains(a):!!this.className.match(new RegExp("(\\s|^)"+a+"(\\s|$)"))},HTMLElement.prototype.addClass=function(a){this.classList?this.classList.add(a):this.hasClass(a)||(this.className+=a)},HTMLElement.prototype.removeClass=function(a){if(this.classList)this.classList.remove(a);else if(this.hasClass(a)){var b=new RegExp("(\\s|^)"+a+"(\\s|$)");this.className=this.className.replace(b," ")}},$w.threed={makeA3DPoint:function(a,b,c){var d=new Object;return d.x=a,d.y=b,d.z=c,d},convertPointIn3DToPointIn2D:function(a){var b=new Object,c=focalLength/(focalLength+a.z);return b.x=a.x*c,b.y=a.y*c,b}};